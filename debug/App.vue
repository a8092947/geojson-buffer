<template>
  <div id="app">
    <div id="map"></div>
    <button v-on:click="runBuffer" class="bufferBtn">Run Buffer</button>
  </div>
</template>

<script>

import { bufferGeoJSON } from '../src/main'

export default {
  name: 'app',
  mounted () {
    var map = window.map = L.map('map', {
      minZoom: 1,
      maxZoom: 20,
      center: [0, 0],
      zoom: 2,
      crs: L.CRS.Simple
    })
    const out = bufferGeoJSON({
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              14.414062499999998,
              12.897489183755892
            ],
            [
              3.515625,
              8.754794702435618
            ],
            [
              7.734374999999999,
              -1.4061088354351594
            ],
            [
              11.6015625,
              4.915832801313164
            ],
            [
              10.8984375,
              -9.79567758282973
            ],
            [
              14.414062499999998,
              -3.162455530237848
            ],
            [
              18.6328125,
              2.1088986592431382
            ],
            [
              16.5234375,
              5.61598581915534
            ],
            [
              19.335937499999996,
              8.754794702435618
            ],
            [
              28.4765625,
              13.239945499286312
            ],
            [
              24.960937499999996,
              16.636191878397664
            ],
            [
              22.148437499999996,
              13.239945499286312
            ],
            [
              20.390625,
              19.973348786110602
            ],
            [
              18.28125,
              10.833305983642491
            ],
            [
              14.414062499999998,
              12.897489183755892
            ]
          ]
        ]
      }
    }, 1, 'miles')
    L.geoJSON(out).addTo(map)
  },
  methods: {
    runBuffer () {
     const out = bufferGeoJSON({
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              14.414062499999998,
              12.897489183755892
            ],
            [
              3.515625,
              8.754794702435618
            ],
            [
              7.734374999999999,
              -1.4061088354351594
            ],
            [
              11.6015625,
              4.915832801313164
            ],
            [
              10.8984375,
              -9.79567758282973
            ],
            [
              14.414062499999998,
              -3.162455530237848
            ],
            [
              18.6328125,
              2.1088986592431382
            ],
            [
              16.5234375,
              5.61598581915534
            ],
            [
              19.335937499999996,
              8.754794702435618
            ],
            [
              28.4765625,
              13.239945499286312
            ],
            [
              24.960937499999996,
              16.636191878397664
            ],
            [
              22.148437499999996,
              13.239945499286312
            ],
            [
              20.390625,
              19.973348786110602
            ],
            [
              18.28125,
              10.833305983642491
            ],
            [
              14.414062499999998,
              12.897489183755892
            ]
          ]
        ]
      }
      }, 1, 'miles')
    }
  }
}
</script>

<style>
    html, body, #app, #map {
      width: 100%;
      height: 100%;
      margin: 0px;
    }

  .bufferBtn{
    position: absolute;
    top: 10px;
    right: 20px;
  }
</style>
